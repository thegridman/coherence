<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (17) on Tue Oct 18 18:05:39 UTC 2022 -->
<title>TransactionMap.Validator (Java API Reference for Oracle® Coherence Community Edition)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2022-10-18">
<meta name="description" content="declaration: package: com.tangosol.util, interface: TransactionMap, interface: Validator">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
<script type="text/javascript" src="../../../script-dir/jquery-3.5.1.min.js"></script>
<script type="text/javascript" src="../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<div class="about-language"><b>Java API Reference for Oracle® Coherence Community Edition<br>       (23.03)</b></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/TransactionMap.Validator.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">com.tangosol.util</a></div>
<h1 title="Interface TransactionMap.Validator" class="title">Interface TransactionMap.Validator</h1>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>All Known Implementing Classes:</dt>
<dd><code><a href="../run/jca/SimpleValidator.html" title="class in com.tangosol.run.jca">SimpleValidator</a></code></dd>
</dl>
<dl class="notes">
<dt>Enclosing interface:</dt>
<dd><a href="TransactionMap.html" title="interface in com.tangosol.util">TransactionMap</a></dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public static interface </span><span class="element-name type-name-label">TransactionMap.Validator</span></div>
<div class="block">A callback interface used by TransactionMap implementations.
 <p>
 By providing an implementation of this interface, it is possible to
 provide alternative strategies for verifying the correctness of
 concurrent execution of transactions.</div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab3" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab3', 3)" class="table-tab">Abstract Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#enlist(com.tangosol.util.TransactionMap,java.lang.Object)" class="member-name-link">enlist</a><wbr>(<a href="TransactionMap.html" title="interface in com.tangosol.util">TransactionMap</a>&nbsp;mapTx,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;oKey)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Enlist the resource with the specified transaction.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="TransactionMap.Validator.html" title="interface in com.tangosol.util">TransactionMap.Validator</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#getNextValidator()" class="member-name-link">getNextValidator</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Retrive the next Validator.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#setNextValidator(com.tangosol.util.TransactionMap.Validator)" class="member-name-link">setNextValidator</a><wbr>(<a href="TransactionMap.Validator.html" title="interface in com.tangosol.util">TransactionMap.Validator</a>&nbsp;v)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Set the next Validator.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#validate(com.tangosol.util.TransactionMap,java.util.Set,java.util.Set,java.util.Set,java.util.Set,java.util.Set)" class="member-name-link">validate</a><wbr>(<a href="TransactionMap.html" title="interface in com.tangosol.util">TransactionMap</a>&nbsp;mapTx,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Set.html" title="class or interface in java.util" class="external-link">Set</a>&nbsp;setInsert,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Set.html" title="class or interface in java.util" class="external-link">Set</a>&nbsp;setUpdate,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Set.html" title="class or interface in java.util" class="external-link">Set</a>&nbsp;setDelete,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Set.html" title="class or interface in java.util" class="external-link">Set</a>&nbsp;setRead,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Set.html" title="class or interface in java.util" class="external-link">Set</a>&nbsp;setPhantom)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Validate that the content of the TransactionMap is "fit" to be
 committed into the base map.</div>
</div>
</div>
</div>
</div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="enlist(com.tangosol.util.TransactionMap,java.lang.Object)">
<h3>enlist</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">enlist</span><wbr><span class="parameters">(<a href="TransactionMap.html" title="interface in com.tangosol.util">TransactionMap</a>&nbsp;mapTx,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;oKey)</span></div>
<div class="block">Enlist the resource with the specified transaction.
 <p>
 This method is invoked for all resources that are "used" by the
 transaction immediately before the resource value is copied into
 the local map.
 <p>
 It is this method's responsibility to call a next Validator in the
 validation chain
 (i.e. <code>getNextValidator().enlist(map, okey);</code>)</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>mapTx</code> - the TransactionMap to enlist the resource with</dd>
<dd><code>oKey</code> - the resource key to be enlisted with the transaction</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="validate(com.tangosol.util.TransactionMap,java.util.Set,java.util.Set,java.util.Set,java.util.Set,java.util.Set)">
<h3>validate</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">validate</span><wbr><span class="parameters">(<a href="TransactionMap.html" title="interface in com.tangosol.util">TransactionMap</a>&nbsp;mapTx,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Set.html" title="class or interface in java.util" class="external-link">Set</a>&nbsp;setInsert,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Set.html" title="class or interface in java.util" class="external-link">Set</a>&nbsp;setUpdate,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Set.html" title="class or interface in java.util" class="external-link">Set</a>&nbsp;setDelete,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Set.html" title="class or interface in java.util" class="external-link">Set</a>&nbsp;setRead,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Set.html" title="class or interface in java.util" class="external-link">Set</a>&nbsp;setPhantom)</span>
       throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/ConcurrentModificationException.html" title="class or interface in java.util" class="external-link">ConcurrentModificationException</a></span></div>
<div class="block">Validate that the content of the TransactionMap is "fit" to be
 committed into the base map.
 <p>
 This method is invoked during "prepare" phase after all the resources
 involved in this transaction are successfully locked at the base map.
 The Validator is expected to retrieve the "old" and "new" values
 (using <code>map.get(oKey)</code>, <code>map.getBaseMap().get(oKey)</code>)
 and use the information gathered during "enlist" calls to make
 the determination whether or not commit should be allowed to proceed.
 <p>
 To force a roll back it should throw an exception indicating the
 reason this transaction cannot be committed.
 When that happens, the sets are expected to hold just the keys
 of the "offending" resources.
 <p>
 It is this method's responsibility to call a next Validator in the
 validation chain (i.e. <code>
 getNextValidator().validate(map, setI, setU, setD, setR, setF);</code>)</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>mapTx</code> - the TransactionMap that is being prepared</dd>
<dd><code>setInsert</code> - the set of inserted resources</dd>
<dd><code>setUpdate</code> - the set of updated resources</dd>
<dd><code>setDelete</code> - the set of deleted resources</dd>
<dd><code>setRead</code> - the set of read resources. It is always empty for
                   TRANSACTION_GET_COMMITTED isolation level.</dd>
<dd><code>setPhantom</code> - the set of phantom resources, that is resources that
                   were added to the base map, but were not known to the
                   transaction. This set can be not empty only for
                   TRANSACTION_GET_SERIALIZED isolation level.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/ConcurrentModificationException.html" title="class or interface in java.util" class="external-link">ConcurrentModificationException</a></code> - if the validator detects
            an unresolveable conflict between the resources</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getNextValidator()">
<h3>getNextValidator</h3>
<div class="member-signature"><span class="return-type"><a href="TransactionMap.Validator.html" title="interface in com.tangosol.util">TransactionMap.Validator</a></span>&nbsp;<span class="element-name">getNextValidator</span>()</div>
<div class="block">Retrive the next Validator.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the next Validator</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setNextValidator(com.tangosol.util.TransactionMap.Validator)">
<h3>setNextValidator</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">setNextValidator</span><wbr><span class="parameters">(<a href="TransactionMap.Validator.html" title="interface in com.tangosol.util">TransactionMap.Validator</a>&nbsp;v)</span></div>
<div class="block">Set the next Validator.

 <b>Note:</b> This method cannot be called while in the middle
 of a validation (commit) phase.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>v</code> - the Validator to be added</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - if the next validator cannot be changed</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small><script>                       if (typeof useModuleDirectories !== 'undefined') {                         useModuleDirectories = false;                       }                       </script></small></p>
</footer>
</div>
</div>
</body>
</html>
